<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2014-02-16T00:00:00Z</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>今日の料理</title>
    <link rel="alternate" href="http://blog.url.com/2014/02/16/03-cooking.html"/>
    <id>http://blog.url.com/2014/02/16/03-cooking.html</id>
    <published>2014-02-16T00:00:00Z</published>
    <updated>2014-02-16T14:33:53+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;iframe class="instagram" src="//instagram.com/p/kekHR9EN8B/embed/" width="400" height="464" frameborder="0" scrolling="no" allowtransparency="true"&gt;&lt;/iframe&gt;

&lt;p&gt;今日は久々に料理をした。作ったものは&lt;a href="http://cookpad.com/recipe/1754134"&gt;椎茸のカマンベール焼き&lt;/a&gt;だ。この椎茸、実はとても大きい。昨日、家の近くのクイーンズ伊勢丹で購入したものだ。
どのくらい大きいかは、次の写真を見れば分かる。&lt;/p&gt;

&lt;iframe class="instagram" src="//instagram.com/p/kefyvGEN33/embed/" width="400" height="464" frameborder="0" scrolling="no" allowtransparency="true"&gt;&lt;/iframe&gt;

&lt;p&gt;同時に写ってる包丁のおかげで、とても大きいことが分かるだろう。この椎茸に、一緒に買ってきたカマンベールチーズを詰めてトースターグリルで焼くだけの超かんたんメニューだ。&lt;/p&gt;

&lt;p&gt;サッポロクラシック。&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>今日の MBP13</title>
    <link rel="alternate" href="http://blog.url.com/2014/02/16/02-mbp13.html"/>
    <id>http://blog.url.com/2014/02/16/02-mbp13.html</id>
    <published>2014-02-16T00:00:00Z</published>
    <updated>2014-02-16T14:33:53+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;今日は、昨晩寝る前にダウンロードしておいた Xcode 5.1 beta 5 をインストールし、さらに Mac App Store から安定板の Xcode 5 もインストールした。&lt;/p&gt;

&lt;p&gt;それだけ。&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>DNS をバリュードメインから Route 53 に変えた</title>
    <link rel="alternate" href="http://blog.url.com/2014/02/16/01-route-53.html"/>
    <id>http://blog.url.com/2014/02/16/01-route-53.html</id>
    <published>2014-02-16T00:00:00Z</published>
    <updated>2014-02-16T14:33:53+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;昨晩、バリュードメインで diary.mrkn.jp という CNAME を追加しようとしたけど、エラーが出続けてログインすらできなかった。
良いタイミングだと思ったので、mrkn.jp の DNS を Amazon Route 53 に移行した。
初めて使ったので Web コンソールからちまちまデータを移行したけど、
次からは &lt;a href="http://docs.aws.amazon.com/Route53/latest/APIReference/Welcome.html"&gt;API&lt;/a&gt; を使って管理できて便利になると思う。&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>新しい MBP13 のセットアップ</title>
    <link rel="alternate" href="http://blog.url.com/2014/02/15/01-setup-new-mbp13.html"/>
    <id>http://blog.url.com/2014/02/15/01-setup-new-mbp13.html</id>
    <published>2014-02-15T00:00:00Z</published>
    <updated>2014-02-16T14:33:53+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;新しい MBP13 の初期設定作業を開始した。今日は、以下の作業を完了させた。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;電源を入れる。&lt;/li&gt;
  &lt;li&gt;最初の設定をする。&lt;/li&gt;
  &lt;li&gt;Mac AppStore を起動して更新を適用し、必要な購入済みアプリをインストール。&lt;/li&gt;
  &lt;li&gt;iOS Dev Center から Xcode 5.1beta をダウンロード。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;明日以降は以下の作業が待っている。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Xcode 5.1 beta のインストール。&lt;/li&gt;
  &lt;li&gt;homebrew をインストール。&lt;/li&gt;
  &lt;li&gt;Brewfile を作る。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;おやすみなさい。&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Rational を10進小数展開するアルゴリズムを実装した</title>
    <link rel="alternate" href="http://blog.url.com/2014/02/15/02-rational-to-decimal-string.html"/>
    <id>http://blog.url.com/2014/02/15/02-rational-to-decimal-string.html</id>
    <published>2014-02-15T00:00:00Z</published>
    <updated>2014-02-16T14:33:53+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;CRuby の &lt;a href="https://bugs.ruby-lang.org/issues/8850"&gt;Feature #8850&lt;/a&gt; で提案されている Rational を10進小数展開する機能を実装してみた。
循環節の検出は、セルオートマトンの周期解を検出するときに使った手法を応用した。&lt;/p&gt;

&lt;p&gt;この手法では、1桁ずつの展開 (標準展開) と2桁ずつの展開 (倍速展開) を同時に進め、両者の状態 (剰余) が等しくなったときに循環を見付けたことになる。&lt;/p&gt;

&lt;p&gt;標準展開の末尾の位置と倍速展開の末尾の位置の差が循環節の長さに一致する。&lt;/p&gt;

&lt;p&gt;循環節の先頭位置を見付けるには、標準展開と倍速展開のそれぞれの末尾から1桁ずつ前に戻りながら桁の値を比較していけば良い。
たとえば、循環を検出した時点で以下のような小数展開が得られたとしよう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;123.4567891357924680123450987613579246801234
                       ^ 標準展開の末尾
                                           ^ 倍速展開の末尾
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;標準展開の末尾と倍速展開の末尾にあるカーソルを両方1桁ずつ前に移動させながら、それぞれのカーソルが指す桁の値が等しくなくなるまで繰替えすと次のようになる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;123.4567891357924680123450987613579246801234
         ^ 標準展開のカーソル
                             ^ 倍速展開のカーソル
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;このときの標準展開のカーソルが指す桁の直後から循環節が開始し、倍速展開のカーソルが指す位置までが循環節になっている。&lt;/p&gt;

&lt;p&gt;このアルゴリズムは循環を検出するまで循環節の桁数より多くの桁を小数展開するが、循環節の桁数の2倍以上は展開することはない。
必要な記憶領域は剰余2つ分使用し、2桁を展開するために2回の剰余を実行する。&lt;/p&gt;

&lt;p&gt;[TODO] 循環節の先頭を探索するために二分探索が使えるので後で実装すること。&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>ブログのレイアウトファイルを ERB から Slim へ変更した</title>
    <link rel="alternate" href="http://blog.url.com/2014/02/13/02-middleman-with-slim.html"/>
    <id>http://blog.url.com/2014/02/13/02-middleman-with-slim.html</id>
    <published>2014-02-13T00:00:00Z</published>
    <updated>2014-02-16T14:33:53+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;簡単だった。Gemfile に &lt;code&gt;gem "slim", "~&amp;gt; 2.0.0"&lt;/code&gt; と書いて &lt;code&gt;bundle install&lt;/code&gt; し、erb ファイルを slim へ変換するだけ。
出力される HTML ファイルを pretty にするため、次の1行を &lt;code&gt;config.rb&lt;/code&gt; に記述した。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;ruby
set :slim, { :pretty =&amp;gt; true, :sort_attrs =&amp;gt; false, :format =&amp;gt; :html5 }
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;しかし問題がある。development モードでの反応が ERB だったときよりも遅いのだ。&lt;/p&gt;

&lt;p&gt;Chrome を再起動したら遅い問題が解決したような気がする。&lt;/p&gt;
</content>
  </entry>
</feed>
